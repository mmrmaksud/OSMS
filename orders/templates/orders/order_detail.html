{% extends "base.html" %}
{% block content %}
<div class="container py-5">
  <h2 class="mb-4">Order #{{ order.id }}</h2>

  <div class="card p-4 mb-4">
    <h5>Customer Information</h5>
    <p><strong>Name:</strong> {{ order.customer_name }}</p>
    <p><strong>Mobile:</strong> {{ order.customer_mobile }}</p>
    {% if order.customer_email %}
      <p><strong>Email:</strong> {{ order.customer_email }}</p>
    {% endif %}
    <p><strong>Address:</strong> {{ order.customer_address }}</p>
    <p><strong>Status:</strong> {{ order.get_status_display }}</p>
    <p><strong>Placed On:</strong> {{ order.created_at|date:"F j, Y, g:i A" }}</p>
  </div>

  <h4>Ordered Items</h4>
  <table class="table table-bordered align-middle">
    <thead class="table-light">
      <tr>
        <th>Product</th>
        <th class="text-center">Quantity</th>
        <th class="text-end">Unit Price</th>
        <th class="text-end">Line Total</th>
      </tr>
    </thead>
    <tbody>
      {% for item in order.items.all %}
      <tr>
        <td>{{ item.product.name }}</td>
        <td class="text-center">{{ item.quantity }}</td>
        <td class="text-end">৳ {{ item.unit_price }}</td>
        <td class="text-end">৳ {{ item.line_total }}</td>
      </tr>
      {% endfor %}
      <tr>
        <th colspan="3" class="text-end">Total:</th>
        <th class="text-end">৳ {{ order.total_price }}</th>
      </tr>
    </tbody>
  </table>

  <a href="{% url 'orders:my_orders' %}" class="btn btn-secondary mt-3">← Back to My Orders</a>
</div>
{% endblock %}
